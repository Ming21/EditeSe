<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel=""stylesheet" href="css/jquery.mobile-1.4.5.css">
<script src="js/jquery.js"></script>
<script src="js/jquery.mobile-1.4.5.js"></script>
</head>
<body>
<script type="text/javascript">
        var camearaOptions = {
            //quality: 100,
            //destinationType: navigator.camera.DestinationType.FILE_URI,
            //sourceType: navigator.camera.PictureSourceType.PHOTOLIBRARY
			destinationType: navigator.Camera.DestinationType.FILE_URI,
            sourceType: Camera.PictureSourceType.PHOTOLIBRARY
        }
        function getImage() {
			alert(" getImage -- ");
            //navigator.camera.getPicture(uploadPhoto,onError, camearaOptions);

			navigator.camera.getPicture(onSuccess, onFail, {
                limit: 5,
                mediaType: navigator.Camera.MediaType.VIDEO
                
            });


        }

        function onError(err){ alert(error); }

        function uploadPhoto(imageURI) {
            var options = new FileUploadOptions();
            options.fileKey = "file";
            options.fileName = imageURI.substr(imageURI.lastIndexOf('/') + 1);
            //options.mimeType = "image/jpeg";
            var ft = new FileTransfer();
            ft.upload(imageURI, "http://192.168.1.4/phonegap/upload/upload.php",
            function (result) {
                console.log(JSON.stringify(result));
            },
            function (error) {
                console.log(JSON.stringify(error));
            }, options);
        }
    
	//////////////
		function openFilePicker(selection) {

			var srcType = Camera.PictureSourceType.SAVEDPHOTOALBUM;
			var options = setOptions(srcType);
			var func = createNewFileEntry;

			navigator.camera.getPicture(function cameraSuccess(imageUri) {

				// Do something

			}, function cameraError(error) {
				console.debug("Unable to obtain picture: " + error, "app");

			}, options);
		}

	</script>




<!-- Start of first page -->
<div data-role="page" id="foo">

	<div data-role="header">
		<h1>Foo</h1>
	</div><!-- /header -->

	<div role="main" class="ui-content">
		<p>I'm first in the source order so I'm shown as the page.</p>
		<p>View internal page called <a href="#bar">bar</a></p>
	<button onclick="getImage()">Upload a Photo</button>

	<button onclick="openFilePicker()">Upload a Photo 2</button>
	</div><!-- /content -->

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->

<!-- Start of second page -->
<div data-role="page" id="bar">

	<div data-role="header">
		<h1>Bar</h1>
	</div><!-- /header -->

	<div role="main" class="ui-content">
		<p>I'm the second in the source order so I'm hidden when the page loads. I'm just shown if a link that references my id is beeing clicked.</p>
		<p><a href="#foo">Back to foo</a></p>
	</div><!-- /content -->

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->
</body>
</html>